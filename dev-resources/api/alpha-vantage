#!/usr/bin/env bash
set -eou pipefail

ticker='LON:FCH'
params='outputsize=compact&datatype=json'

# docs: https://www.alphavantage.co/documentation/
latest(){
  curl \
    "https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=${ticker}&apikey=${alpha_vantage_api_key}&${params}"

  result='{
  "Meta Data": {
    "1. Information": "Daily Prices (open, high, low, close) and Volumes",
    "2. Symbol": "VMRAX",
    "3. Last Refreshed": "2018-09-10",
    "4. Output Size": "Compact",
    "5. Time Zone": "US/Eastern"
  },
  "Time Series (Daily)": {
    "2018-09-10": {
      "1. open": "104.3200",
      "2. high": "104.3200",
      "3. low": "104.3200",
      "4. close": "104.3200",
      "5. volume": "0"
    },
    "2018-09-07": {
      "1. open": "103.9700",
      "2. high": "103.9700",
      "3. low": "103.9700",
      "4. close": "103.9700",
      "5. volume": "0"
    },
    "2018-09-06": {
      "1. open": "104.1500",
      "2. high": "104.1500",
      "3. low": "104.1500",
      "4. close": "104.1500",
      "5. volume": "0"
    },
    "2018-09-05": {
      "1. open": "104.4600",
      "2. high": "104.4600",
      "3. low": "104.4600",
      "4. close": "104.4600",
      "5. volume": "0"
    },
    "2018-09-04": {
      "1. open": "105.9100",
      "2. high": "105.9100",
      "3. low": "105.9100",
      "4. close": "105.9100",
      "5. volume": "0"
    },
    "2018-08-31": {
      "1. open": "105.9100",
      "2. high": "105.9100",
      "3. low": "105.9100",
      "4. close": "105.9100",
      "5. volume": "0"
    },
    "2018-08-30": {
      "1. open": "105.7300",
      "2. high": "105.7300",
      "3. low": "105.7300",
      "4. close": "105.7300",
      "5. volume": "0"
    },
    "2018-08-29": {
      "1. open": "106.2000",
      "2. high": "106.2000",
      "3. low": "106.2000",
      "4. close": "106.2000",
      "5. volume": "0"
    },
    "2018-08-28": {
      "1. open": "105.2400",
      "2. high": "105.2400",
      "3. low": "105.2400",
      "4. close": "105.2400",
      "5. volume": "0"
    },
    "2018-08-27": {
      "1. open": "105.0800",
      "2. high": "105.0800",
      "3. low": "105.0800",
      "4. close": "105.0800",
      "5. volume": "0"
    },
    "2018-08-24": {
      "1. open": "104.1800",
      "2. high": "104.1800",
      "3. low": "104.1800",
      "4. close": "104.1800",
      "5. volume": "0"
    },
    "2018-08-23": {
      "1. open": "103.1900",
      "2. high": "103.1900",
      "3. low": "103.1900",
      "4. close": "103.1900",
      "5. volume": "0"
    },
    "2018-08-22": {
      "1. open": "103.3100",
      "2. high": "103.3100",
      "3. low": "103.3100",
      "4. close": "103.3100",
      "5. volume": "0"
    },
    "2018-08-21": {
      "1. open": "102.8700",
      "2. high": "102.8700",
      "3. low": "102.8700",
      "4. close": "102.8700",
      "5. volume": "0"
    },
    "2018-08-20": {
      "1. open": "102.5300",
      "2. high": "102.5300",
      "3. low": "102.5300",
      "4. close": "102.5300",
      "5. volume": "0"
    },
    "2018-08-17": {
      "1. open": "102.2200",
      "2. high": "102.2200",
      "3. low": "102.2200",
      "4. close": "102.2200",
      "5. volume": "0"
    },
    "2018-08-16": {
      "1. open": "102.0800",
      "2. high": "102.0800",
      "3. low": "102.0800",
      "4. close": "102.0800",
      "5. volume": "0"
    },
    "2018-08-15": {
      "1. open": "101.5400",
      "2. high": "101.5400",
      "3. low": "101.5400",
      "4. close": "101.5400",
      "5. volume": "0"
    },
    "2018-08-14": {
      "1. open": "102.7700",
      "2. high": "102.7700",
      "3. low": "102.7700",
      "4. close": "102.7700",
      "5. volume": "0"
    },
    "2018-08-13": {
      "1. open": "102.1400",
      "2. high": "102.1400",
      "3. low": "102.1400",
      "4. close": "102.1400",
      "5. volume": "0"
    },
    "2018-08-10": {
      "1. open": "102.5300",
      "2. high": "102.5300",
      "3. low": "102.5300",
      "4. close": "102.5300",
      "5. volume": "0"
    },
    "2018-08-09": {
      "1. open": "103.0500",
      "2. high": "103.0500",
      "3. low": "103.0500",
      "4. close": "103.0500",
      "5. volume": "0"
    },
    "2018-08-08": {
      "1. open": "103.0400",
      "2. high": "103.0400",
      "3. low": "103.0400",
      "4. close": "103.0400",
      "5. volume": "0"
    },
    "2018-08-07": {
      "1. open": "103.0000",
      "2. high": "103.0000",
      "3. low": "103.0000",
      "4. close": "103.0000",
      "5. volume": "0"
    },
    "2018-08-06": {
      "1. open": "102.4400",
      "2. high": "102.4400",
      "3. low": "102.4400",
      "4. close": "102.4400",
      "5. volume": "0"
    },
    "2018-08-03": {
      "1. open": "101.9600",
      "2. high": "101.9600",
      "3. low": "101.9600",
      "4. close": "101.9600",
      "5. volume": "0"
    },
    "2018-08-02": {
      "1. open": "101.9100",
      "2. high": "101.9100",
      "3. low": "101.9100",
      "4. close": "101.9100",
      "5. volume": "0"
    },
    "2018-08-01": {
      "1. open": "100.8900",
      "2. high": "100.8900",
      "3. low": "100.8900",
      "4. close": "100.8900",
      "5. volume": "0"
    },
    "2018-07-31": {
      "1. open": "100.7300",
      "2. high": "100.7300",
      "3. low": "100.7300",
      "4. close": "100.7300",
      "5. volume": "0"
    },
    "2018-07-30": {
      "1. open": "100.1600",
      "2. high": "100.1600",
      "3. low": "100.1600",
      "4. close": "100.1600",
      "5. volume": "0"
    },
    "2018-07-27": {
      "1. open": "101.7200",
      "2. high": "101.7200",
      "3. low": "101.7200",
      "4. close": "101.7200",
      "5. volume": "0"
    },
    "2018-07-26": {
      "1. open": "103.0800",
      "2. high": "103.0800",
      "3. low": "103.0800",
      "4. close": "103.0800",
      "5. volume": "0"
    },
    "2018-07-25": {
      "1. open": "104.1500",
      "2. high": "104.1500",
      "3. low": "104.1500",
      "4. close": "104.1500",
      "5. volume": "0"
    },
    "2018-07-24": {
      "1. open": "102.7500",
      "2. high": "102.7500",
      "3. low": "102.7500",
      "4. close": "102.7500",
      "5. volume": "0"
    },
    "2018-07-23": {
      "1. open": "102.6300",
      "2. high": "102.6300",
      "3. low": "102.6300",
      "4. close": "102.6300",
      "5. volume": "0"
    },
    "2018-07-20": {
      "1. open": "102.4400",
      "2. high": "102.4400",
      "3. low": "102.4400",
      "4. close": "102.4400",
      "5. volume": "0"
    },
    "2018-07-19": {
      "1. open": "102.4200",
      "2. high": "102.4200",
      "3. low": "102.4200",
      "4. close": "102.4200",
      "5. volume": "0"
    },
    "2018-07-18": {
      "1. open": "102.8400",
      "2. high": "102.8400",
      "3. low": "102.8400",
      "4. close": "102.8400",
      "5. volume": "0"
    },
    "2018-07-17": {
      "1. open": "102.6800",
      "2. high": "102.6800",
      "3. low": "102.6800",
      "4. close": "102.6800",
      "5. volume": "0"
    },
    "2018-07-16": {
      "1. open": "101.9600",
      "2. high": "101.9600",
      "3. low": "101.9600",
      "4. close": "101.9600",
      "5. volume": "0"
    },
    "2018-07-13": {
      "1. open": "102.3200",
      "2. high": "102.3200",
      "3. low": "102.3200",
      "4. close": "102.3200",
      "5. volume": "0"
    },
    "2018-07-12": {
      "1. open": "102.2600",
      "2. high": "102.2600",
      "3. low": "102.2600",
      "4. close": "102.2600",
      "5. volume": "0"
    },
    "2018-07-11": {
      "1. open": "100.8600",
      "2. high": "100.8600",
      "3. low": "100.8600",
      "4. close": "100.8600",
      "5. volume": "0"
    },
    "2018-07-10": {
      "1. open": "101.3800",
      "2. high": "101.3800",
      "3. low": "101.3800",
      "4. close": "101.3800",
      "5. volume": "0"
    },
    "2018-07-09": {
      "1. open": "101.2300",
      "2. high": "101.2300",
      "3. low": "101.2300",
      "4. close": "101.2300",
      "5. volume": "0"
    },
    "2018-07-06": {
      "1. open": "100.2100",
      "2. high": "100.2100",
      "3. low": "100.2100",
      "4. close": "100.2100",
      "5. volume": "0"
    },
    "2018-07-05": {
      "1. open": "99.1900",
      "2. high": "99.1900",
      "3. low": "99.1900",
      "4. close": "99.1900",
      "5. volume": "0"
    },
    "2018-07-03": {
      "1. open": "98.2800",
      "2. high": "98.2800",
      "3. low": "98.2800",
      "4. close": "98.2800",
      "5. volume": "0"
    },
    "2018-07-02": {
      "1. open": "99.0300",
      "2. high": "99.0300",
      "3. low": "99.0300",
      "4. close": "99.0300",
      "5. volume": "0"
    },
    "2018-06-29": {
      "1. open": "98.5900",
      "2. high": "98.5900",
      "3. low": "98.5900",
      "4. close": "98.5900",
      "5. volume": "0"
    },
    "2018-06-28": {
      "1. open": "98.3800",
      "2. high": "98.3800",
      "3. low": "98.3800",
      "4. close": "98.3800",
      "5. volume": "0"
    },
    "2018-06-27": {
      "1. open": "97.5000",
      "2. high": "97.5000",
      "3. low": "97.5000",
      "4. close": "97.5000",
      "5. volume": "0"
    },
    "2018-06-26": {
      "1. open": "98.8200",
      "2. high": "98.8200",
      "3. low": "98.8200",
      "4. close": "98.8200",
      "5. volume": "0"
    },
    "2018-06-25": {
      "1. open": "98.3800",
      "2. high": "98.3800",
      "3. low": "98.3800",
      "4. close": "98.3800",
      "5. volume": "0"
    },
    "2018-06-22": {
      "1. open": "100.5400",
      "2. high": "100.5400",
      "3. low": "100.5400",
      "4. close": "100.5400",
      "5. volume": "0"
    },
    "2018-06-21": {
      "1. open": "100.8200",
      "2. high": "100.8200",
      "3. low": "100.8200",
      "4. close": "100.8200",
      "5. volume": "0"
    },
    "2018-06-20": {
      "1. open": "101.6600",
      "2. high": "101.6600",
      "3. low": "101.6600",
      "4. close": "101.6600",
      "5. volume": "0"
    },
    "2018-06-19": {
      "1. open": "101.2600",
      "2. high": "101.2600",
      "3. low": "101.2600",
      "4. close": "101.2600",
      "5. volume": "0"
    },
    "2018-06-18": {
      "1. open": "102.0100",
      "2. high": "102.0100",
      "3. low": "102.0100",
      "4. close": "102.0100",
      "5. volume": "0"
    },
    "2018-06-15": {
      "1. open": "101.7900",
      "2. high": "101.7900",
      "3. low": "101.7900",
      "4. close": "101.7900",
      "5. volume": "0"
    },
    "2018-06-14": {
      "1. open": "102.0300",
      "2. high": "102.0300",
      "3. low": "102.0300",
      "4. close": "102.0300",
      "5. volume": "0"
    },
    "2018-06-13": {
      "1. open": "101.5000",
      "2. high": "101.5000",
      "3. low": "101.5000",
      "4. close": "101.5000",
      "5. volume": "0"
    },
    "2018-06-12": {
      "1. open": "101.6800",
      "2. high": "101.6800",
      "3. low": "101.6800",
      "4. close": "101.6800",
      "5. volume": "0"
    },
    "2018-06-11": {
      "1. open": "101.1800",
      "2. high": "101.1800",
      "3. low": "101.1800",
      "4. close": "101.1800",
      "5. volume": "0"
    },
    "2018-06-08": {
      "1. open": "101.0500",
      "2. high": "101.0500",
      "3. low": "101.0500",
      "4. close": "101.0500",
      "5. volume": "0"
    },
    "2018-06-07": {
      "1. open": "100.7600",
      "2. high": "100.7600",
      "3. low": "100.7600",
      "4. close": "100.7600",
      "5. volume": "0"
    },
    "2018-06-06": {
      "1. open": "101.4100",
      "2. high": "101.4100",
      "3. low": "101.4100",
      "4. close": "101.4100",
      "5. volume": "0"
    },
    "2018-06-05": {
      "1. open": "100.5200",
      "2. high": "100.5200",
      "3. low": "100.5200",
      "4. close": "100.5200",
      "5. volume": "0"
    },
    "2018-06-04": {
      "1. open": "100.0900",
      "2. high": "100.0900",
      "3. low": "100.0900",
      "4. close": "100.0900",
      "5. volume": "0"
    },
    "2018-06-01": {
      "1. open": "99.4100",
      "2. high": "99.4100",
      "3. low": "99.4100",
      "4. close": "99.4100",
      "5. volume": "0"
    },
    "2018-05-31": {
      "1. open": "98.1400",
      "2. high": "98.1400",
      "3. low": "98.1400",
      "4. close": "98.1400",
      "5. volume": "0"
    },
    "2018-05-30": {
      "1. open": "98.5400",
      "2. high": "98.5400",
      "3. low": "98.5400",
      "4. close": "98.5400",
      "5. volume": "0"
    },
    "2018-05-29": {
      "1. open": "97.4300",
      "2. high": "97.4300",
      "3. low": "97.4300",
      "4. close": "97.4300",
      "5. volume": "0"
    },
    "2018-05-25": {
      "1. open": "98.3400",
      "2. high": "98.3400",
      "3. low": "98.3400",
      "4. close": "98.3400",
      "5. volume": "0"
    },
    "2018-05-24": {
      "1. open": "98.5900",
      "2. high": "98.5900",
      "3. low": "98.5900",
      "4. close": "98.5900",
      "5. volume": "0"
    },
    "2018-05-23": {
      "1. open": "98.6800",
      "2. high": "98.6800",
      "3. low": "98.6800",
      "4. close": "98.6800",
      "5. volume": "0"
    },
    "2018-05-22": {
      "1. open": "98.1400",
      "2. high": "98.1400",
      "3. low": "98.1400",
      "4. close": "98.1400",
      "5. volume": "0"
    },
    "2018-05-21": {
      "1. open": "98.6400",
      "2. high": "98.6400",
      "3. low": "98.6400",
      "4. close": "98.6400",
      "5. volume": "0"
    },
    "2018-05-18": {
      "1. open": "97.9600",
      "2. high": "97.9600",
      "3. low": "97.9600",
      "4. close": "97.9600",
      "5. volume": "0"
    },
    "2018-05-17": {
      "1. open": "97.9800",
      "2. high": "97.9800",
      "3. low": "97.9800",
      "4. close": "97.9800",
      "5. volume": "0"
    },
    "2018-05-16": {
      "1. open": "98.0600",
      "2. high": "98.0600",
      "3. low": "98.0600",
      "4. close": "98.0600",
      "5. volume": "0"
    },
    "2018-05-15": {
      "1. open": "97.6400",
      "2. high": "97.6400",
      "3. low": "97.6400",
      "4. close": "97.6400",
      "5. volume": "0"
    },
    "2018-05-14": {
      "1. open": "98.3500",
      "2. high": "98.3500",
      "3. low": "98.3500",
      "4. close": "98.3500",
      "5. volume": "0"
    },
    "2018-05-11": {
      "1. open": "98.3900",
      "2. high": "98.3900",
      "3. low": "98.3900",
      "4. close": "98.3900",
      "5. volume": "0"
    },
    "2018-05-10": {
      "1. open": "98.2400",
      "2. high": "98.2400",
      "3. low": "98.2400",
      "4. close": "98.2400",
      "5. volume": "0"
    },
    "2018-05-09": {
      "1. open": "97.4700",
      "2. high": "97.4700",
      "3. low": "97.4700",
      "4. close": "97.4700",
      "5. volume": "0"
    },
    "2018-05-08": {
      "1. open": "96.4300",
      "2. high": "96.4300",
      "3. low": "96.4300",
      "4. close": "96.4300",
      "5. volume": "0"
    },
    "2018-05-07": {
      "1. open": "96.1000",
      "2. high": "96.1000",
      "3. low": "96.1000",
      "4. close": "96.1000",
      "5. volume": "0"
    },
    "2018-05-04": {
      "1. open": "95.4700",
      "2. high": "95.4700",
      "3. low": "95.4700",
      "4. close": "95.4700",
      "5. volume": "0"
    },
    "2018-05-03": {
      "1. open": "94.1700",
      "2. high": "94.1700",
      "3. low": "94.1700",
      "4. close": "94.1700",
      "5. volume": "0"
    },
    "2018-05-02": {
      "1. open": "94.0700",
      "2. high": "94.0700",
      "3. low": "94.0700",
      "4. close": "94.0700",
      "5. volume": "0"
    },
    "2018-05-01": {
      "1. open": "94.5900",
      "2. high": "94.5900",
      "3. low": "94.5900",
      "4. close": "94.5900",
      "5. volume": "0"
    },
    "2018-04-30": {
      "1. open": "93.9900",
      "2. high": "93.9900",
      "3. low": "93.9900",
      "4. close": "93.9900",
      "5. volume": "0"
    },
    "2018-04-27": {
      "1. open": "94.4600",
      "2. high": "94.4600",
      "3. low": "94.4600",
      "4. close": "94.4600",
      "5. volume": "0"
    },
    "2018-04-26": {
      "1. open": "94.4600",
      "2. high": "94.4600",
      "3. low": "94.4600",
      "4. close": "94.4600",
      "5. volume": "0"
    },
    "2018-04-25": {
      "1. open": "92.9300",
      "2. high": "92.9300",
      "3. low": "92.9300",
      "4. close": "92.9300",
      "5. volume": "0"
    },
    "2018-04-24": {
      "1. open": "93.0300",
      "2. high": "93.0300",
      "3. low": "93.0300",
      "4. close": "93.0300",
      "5. volume": "0"
    },
    "2018-04-23": {
      "1. open": "94.8300",
      "2. high": "94.8300",
      "3. low": "94.8300",
      "4. close": "94.8300",
      "5. volume": "0"
    },
    "2018-04-20": {
      "1. open": "95.1000",
      "2. high": "95.1000",
      "3. low": "95.1000",
      "4. close": "95.1000",
      "5. volume": "0"
    },
    "2018-04-19": {
      "1. open": "96.0200",
      "2. high": "96.0200",
      "3. low": "96.0200",
      "4. close": "96.0200",
      "5. volume": "0"
    }
  }
}'

  #echo "$result"
}

latest
  #| jq -r '."Time Series (Daily)" | keys[]'
